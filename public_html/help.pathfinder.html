<html>
<head>
   <title>Pathfinder help</title>
<link rel="stylesheet" type="text/css" href = "main_grat.css" media="screen">
</head>
<body class="info">

<center>
<h2><a href="GRAT_home.cgi">NeA-tools</a> - Help on Pathfinder
</h2>
</center>

<h4>Description</h4>

<ul>
    Given a number of source and a number of target nodes, enumerate the k lightest paths connecting any of the
    source nodes with any of the target nodes in the order of their weight.
    Paths are simple, that is no node can occur more than once in the path.
    <br>
</ul>

<h4><A NAME="credits"></A>Credits</h4>
<ul>
   Pathfinder is a Java wrapper around REA written by Jimenez and Marzal in C [1]. It has been 
   inspired by a Python wrapper written by Pierre Schaus and Jean-No&euml;l Monette at <a href='http://www.uclouvain.be/ingi.html' target='_blank'>UCL (INGI)</a>.
   See the <a href="https://gforge.info.ucl.ac.be/projects/bioedge/" target='_blank'>Cytoscape plugins</a> by Pierre Schaus and Jean-No&euml;l Monette for their k shortest paths tool.
   The multiple-to-multiple end path finding relies on a graph transformation suggested
   by Olivier Hubaut (former aMAZE team member) and also described in [2]. 
   I would like to thank the former <a href="http://www.scmbb.ulb.ac.be/amaze/" target='_blank'> aMAZE team</a> for their support and help.
</ul>
	
<h4><A NAME="graph"></A>Input graph</h4>	
	<ul>
	<b>graph</b><br>
		The input graph can be either in tab-delimited or gml format.
	</ul>
	<ul>
	<b>graph file</b><br>
		A file containing a graph in either tab-delimited or gml format.
	</ul>
	<ul>
	<b>graph id</b><br>
		The identifier of a graph that has been submitted and stored on
		the server. This allows to avoid re-submitting large graphs.
		The identifier is assigned by Pathfinder. For storage of graphs 
		on the server side, see <A HREF='help.pathfinder.html#server'>below</a>.  
		<font color = "red">Warning: The weight of already submitted graphs cannot be changed!</font><br>
	</ul>

<h4><A NAME="terminals"></A>Input nodes</h4>

	<ul><b>Sources and targets</b><br>
	If several source and/or target node identifiers are given, they are separated by '/'. 
	Example:<br>
	Source nodes: a/b/c<br>
	Target nodes: d
	</ul>
	<ul><A NAME="batchfile"></A><b>Batchfile</b>
		A batchfile allows to do several path finding tasks in a row. It is a collection 
		of sources and targets, which are specified in a tab-delimited file. Source nodes
		are assigned to a group called START and target nodes are assigned to a group
		called END. The START and END groups are numbered and assigned to an experiment.
		Comments in the batchfile are preceded by #.
		<pre>
		# example for batchfile describing two path finding experiments
		# the first experiment has source R04511 and target C00191
		# the second experiment has source R04198 and targets C00080 and C00681
		R04511	START1
		C00191	END1
		R04198	START2
		C00080	END2
		C00681	END2
		START1	EXP1
		END1	EXP1
		START2	EXP2
		END2	EXP2	
		</pre>	
	</ul>

<h4><A NAME="output"></A>Output</h4>	
	
	<ul><b>Preface</b><br>
	Pathfinder unifies all paths of equal weight into one path! Thus, one path
	does not need to be linear. <br>
	Of course, if less than the requested number of paths
	is present in the graph, Pathfinder cannot return these paths.<br>
	If a graph is requested as Output type, the nodes have values for the
	"Path_Rank" attribute, to distinguish different paths in the graph. 
	Nodes and edges/arcs belonging to a path are colored in gold (that is they 
	have a value "gold" for attribute color and value "#FFD700" for attribute rgb_color).
	</ul>
	
	<ul>
	<b>table of paths</b><br>
	Pathfinder returns the requested number of lightest paths ranked according to their weight in a table.
	No further processing of this table is possible. 
	</ul>
	<ul>
	<b>input graph with paths highlighted</b><br>
	Pathfinder returns the input graph with paths highlighted in another color.<br>
	The modified input graph can be input of further analysis steps. Its format can be
	specified by setting output format either to "tab-delimited" or to "gml".
	</ul>
	<ul>
	<b>each path as a separated component of a single graph</b><br>
	Pathfinder returns the requested number of paths as separated
	components of one graph in the desired output format (gml or tab-delimited). The graph can be
	input of further analsysis steps.
	</ul>
	<ul>
	<b>paths unified into one graph</b><br>
	Pathfinder returns the paths unified into one graph, which is returned in the desired 
	output format ("gml" or "tab-delimited"). The graph can be input of further analsysis steps.
	</ul>

<h4><A NAME="formats"></A>Graph formats</h4>

	<ul>
	<b>Preface</b><br>
	The tab-delimited format is simpler and therefore faster to transfer than 
	the gml format. <font color="red">Warning: For tab-delimited format, the user needs 
	to specify whether or not the graph is directed.</font>
	See the option described <a href="help.pathfinder.html#directed">below</a> to do this.
	</ul><ul>
	<b><A NAME="tab"></A>Tab-delimited</b><br>
	<ol>
	<li>The tab-delimited format in its most simple form is a list of arcs. 
	Optionally, weights can be set as third column. Example:<br>
	<pre>
	; example tab-delimited graph as arc list with weights on arcs
	a	b	1.1
	b	c	2.4
	c	a	3
	</pre>
	</li>
	<li>If one wants to give nodes (i.e. to include orphan nodes or to set node attributes),
	the node identifiers can be set as one column, along with their weights. Arcs
	are separated from nodes by a line starting with ;ARCS. Example:<br>
	<pre>
	; example tab-delimited graph with nodes
	a
	b
	c
	d
	;ARCS
	a	b	1.1
	b	c	2.4
	c	a	3
	</pre>
	</li>
	<li>Additional node or arc attribute values along with the attribute name can be set
	by setting tab-delimited node or arc attribute headers. Example:<br>
	<pre>
	; example tab-delimited graph with nodes having values for a color attribute
	;NODES	color
	a	yellow
	b	blue
	c	blue
	d	yellow
	;ARCS
	a	b	1.1
	b	c	2.4
	c	a	3
	</pre>
	Attributes can also be set on the arcs. Example:
	<pre>
	; example tab-delimited graph with nodes having values for a color attribute 
	; and arcs having values for a probability attribute
	;NODES	color
	a	yellow
	b	blue
	c	blue
	d	yellow
	;ARCS	probability	
	a	b	0.9	1.1
	b	c	0.5	2.4
	c	a	0.1	3
	</pre>
	# is an alternative comment symbol. If not specified otherwise, the last node or
	arc column is always treated as weight column.
	</li>
	</ol>	
	</ul>
	<ul>
	<b><A NAME="gml"></A>GML</b><br>
	The gml format is a generic format allowing to store data as a tree of objects 
	consisting of attribute and value pairs. It is widely used for describing graphs. 
	It allows to set attributes on nodes, arcs and the graph itself. See <a href="http://www.infosun.fim.uni-passau.de/Graphlet/GML/gml-tr.html" target='_blank'>here</a>  
	for more information on this format.
	</ul>

<h4>Options</h4>
	<ul><A NAME="rank"></A><b>Rank</b><br>
	This option specifies how many paths should be found. If for example rank is set to three,
	Pathfinder attempts to find three paths of increasing weight, unifying paths of equal weight into one.
	</ul>
	<ul><A NAME="weight"></A><b>Weight</b><br>
	Three options are available.<br> 
	<ol>
	<li>unit: This option sets a weight of one on each node.</li>
	<li> degree: This option sets a weight equal to its degree on each node.</li>
	<li>as given in input graph: This option should be set to use weights given in the graph.
	<font color="red">Warning: Weights should be set on the arcs/edges as values of the attribute "Weight".</font><br>
	Example for edge in tab-delimited format:<br>
	1	2	3.22<br>
	or<br>
	;ARCS	Weight<br>
	1	2	3.22<br>
	Example for edge in gml format:<br>
	edge[ source 1 target 2 Weight 3.22]<br>
	</li>
	</ol><br>
	Node weights are transformed into edge/arc weights by taking the mean of 
	the head and tail node weights. The k shortest paths algorithm (see <a href="help.pathfinder.html#credits">Credits</a>)
	expects arc weights as input.
	</ul>
	<ul><A NAME="directed"></A><b>Directed</b><br>
	Check the "directed" option to signal that the input graph is directed.
	This option is important for tab-delimited format, because this format,
	in contrast to gml, does not specifiy whether a graph is directed or undirected.
	Results may greatly vary between path finding done on the same input graph treated as 
	undirected or as directed!
	</ul>
	<ul><A NAME="server"></A><b>Storage of input graphs on server</b><br>
	To submit large input graphs can take time. In addition, Pathfinder generates
	temp files each time it is called. Re-using a graph and its associated
	temp files saves time. This is why input graphs can be stored on the server.
	Select this option and save the graph identifier that Pathfinder returns. 
	The next time you want to work on the same graph, enter its
	identifier in the graph id field. 
	</ul>

<h4><A NAME="next">Next steps panel</a></h4>
	<ul>The next steps panel allows you to input the result of Pathfinder into one of the listed tools without copy-pasting
	the result into that tool. The next steps panel will only appear if you request a graph output.
	</ul>

<h4><A NAME="limit">Limitations</a></h4>
	<ul>Format limitations:
	<ol>
	<li>Pathfinder cannot deal with multi-edges (several edges between two nodes) or hyper-edges (edges between more than two nodes).</li>
	<li>Pathfinder does not process correctly mixed graphs (mixtures of undirected and directed graphs).</li>
	</ol>Algorithmic limitations:
	<ol>
	<li>REA does not allow a graph with negative-length cycles reachable from the start nodes. Therefore, negative weights on arcs should be used carefully, if at all.</li>
	</ol>Runtime:
	<ol>
	<li>Runtime depends strongly on the size of the graph and the number of paths asked.<br>
	We tested REA on metabolic graphs up to 44,000 arcs. With degree weighting scheme and paths requested up to second rank, the algorithm usually completed within one minute. 
	Be aware that for unit weighting scheme, runtime can be much longer, because many more paths of equal weight may exist. 
	</li>
	</ol>
	</ul>

<h4><A NAME="webservice">Web service</a></h4>
	<ul>In contrast to other tools in RSAT/NeAT, Pathfinder has been implemented in Java for historical reasons 
	and runs as axis web service. Therefore, clients have to call the wsdl file located at<br> 
	<a href='http://rsat.scmbb.ulb.ac.be/be.ac.ulb.bigre.graphtools.server/wsdl/GraphAlgorithms.wsdl' target='_blank'>http://rsat.scmbb.ulb.ac.be/be.ac.ulb.bigre.graphtools.server/wsdl/GraphAlgorithms.wsdl</a> and not the one of RSAT/NeAT. 
	This wsdl file has the same format as the one of RSAT and clients can be written  
	the same way as for RSAT. The only change required is for the address of the wsdl file. 
	WSDL documentation is available <a href='http://rsat.scmbb.ulb.ac.be/be.ac.ulb.bigre.graphtools.server/wsdl/GraphAlgorithms_documentation.xml'>here</a>.
	</ul>

<h4><A NAME="literature"></A>Literature</h4>
<ol>
	<li>Jimenez, V.M., and Marzal, A. (1999). "Computing the K Shortest Paths: a New Algorithm and an Experimental Comparison", Proc. 3rd Int. Worksh. Algorithm Engineering (WAE 1999)</li>
	<li>Duin, C.W., Volgenant, A., and Vo&szlig;, S. (2004). "Solving group Steiner problems as Steiner problems." European Journal of Operational Research 154, 323-329.</li>
</ol>

<h4 class="footer">
For information, contact <a href='mailto:kfaust@ulb.ac.be'>Karoline Faust</a>
</h4>

</blockquote>
</body>
</html>